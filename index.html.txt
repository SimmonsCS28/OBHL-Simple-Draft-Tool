<!-- Add this HTML right before the closing </body> tag -->

<!-- Custom Confirmation Modal -->
<div id="confirmModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2); max-width: 400px;">
        <h3 style="margin-top: 0;">Confirm Reset</h3>
        <p>Are you sure you want to reset the draft? This action cannot be undone.</p>
        <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 20px;">
            <button onclick="closeConfirmModal()" style="padding: 8px 16px; background: #95a5a6; color: white; border: none; border-radius: 4px; cursor: pointer;">Cancel</button>
            <button onclick="confirmReset()" style="padding: 8px 16px; background: #e74c3c; color: white; border: none; border-radius: 4px; cursor: pointer;">Reset Draft</button>
        </div>
    </div>
</div>

<!-- Add this JavaScript to handle the modal -->
<script>
    // Replace the existing reset button event listener with this:
    document.getElementById('resetDraftBtn').addEventListener('click', () => {
        console.log('Reset button clicked');
        // Show custom modal instead of browser confirm
        document.getElementById('confirmModal').style.display = 'block';
    });

    function closeConfirmModal() {
        document.getElementById('confirmModal').style.display = 'none';
    }

    function confirmReset() {
        closeConfirmModal();
        const resetBtn = document.getElementById('resetDraftBtn');
        const originalText = resetBtn.textContent;
        resetBtn.textContent = 'Resetting...';
        resetBtn.disabled = true;
        
        setTimeout(() => {
            resetDraft();
            resetBtn.textContent = originalText;
            resetBtn.disabled = false;
        }, 100);
    }

    // Close modal if clicking outside
    document.getElementById('confirmModal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeConfirmModal();
        }
    });
</script>